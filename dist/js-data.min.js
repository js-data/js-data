/**
* @author Jason Dobry <jason.dobry@gmail.com>
* @file js-data.min.js
* @version 1.5.4 - Homepage <http://www.js-data.io/>
* @copyright (c) 2014-2015 Jason Dobry
* @license MIT <https://github.com/js-data/js-data/blob/master/LICENSE>
*
* @overview Data store.
*/

!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("bluebird"),function(){try{return require("js-data-schema")}catch(a){}}()):"function"==typeof define&&define.amd?define(["bluebird","js-data-schema"],b):"object"==typeof exports?exports.JSData=b(require("bluebird"),function(){try{return require("js-data-schema")}catch(a){}}()):a.JSData=b(a.bluebird,a.Schemator)}(this,function(__WEBPACK_EXTERNAL_MODULE_4__,__WEBPACK_EXTERNAL_MODULE_5__){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){var d=c(3);a.exports={DS:d,createStore:function(a){return new d(a)},DSUtils:c(1),DSErrors:c(2),version:{full:"1.5.4",major:parseInt("1",10),minor:parseInt("5",10),patch:parseInt("4",10),alpha:"false",beta:"false"}}},function(a,b,c){function d(a){return"[object RegExp]"==H.call(a)||!1}function e(a){return a===!0||a===!1||a&&"object"==typeof a&&"[object Boolean]"==H.call(a)||!1}function f(a){return"string"==typeof a||a&&"object"==typeof a&&"[object String]"==H.call(a)||!1}function g(a){return"[object Object]"==H.call(a)||!1}function h(a){return a&&"object"==typeof a&&"[object Date]"==H.call(a)||!1}function i(a){var b=typeof a;return"number"==b||a&&"object"==b&&"[object Number]"==H.call(a)||!1}function j(a){return"function"==typeof a||a&&"[object Function]"===H.call(a)||!1}function k(a){return f(a)||i(a)}function l(a){return new I.IA('"'+a+'" must be a string or a number!')}function m(a){return new I.IA('"'+a+'" must be an object!')}function n(a){return new I.IA('"'+a+'" must be an array!')}function o(a){if(null==a)return!0;if("string"==typeof a||O(a))return!a.length;if("object"==typeof a){var b=!0;return L(a,function(){return b=!1,!1}),b}return!0}function p(a,b){if(!a||!b)return[];for(var c,d=[],e=0,f=a.length;f>e;e++)c=a[e],S.contains(d,c)||S.contains(b,c)&&d.push(c);return d}function q(a,b,c){var d=[];return J(a,function(a,c,e){b(a,c,e)&&d.push(a)},c),d}function r(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){throw c})})}function s(a){var b="function"==typeof Date.now?Date.now():(new Date).getTime();return a&&a>=b?a+1:b}function t(a){var b={};a=a||this,a.on=function(a,c,d){b[a]=b[a]||[],b[a].push({f:c,c:d})},a.off=function(a,c){var d=b[a];if(d)if(c){for(var e=0;e<d.length;e++)if(d[e]===c){d.splice(e,1);break}}else d.splice(0,d.length);else b={}},a.emit=function(){var a=Array.prototype.slice.call(arguments),c=b[a.shift()]||[];if(c)for(var d=0;d<c.length;d++)c[d].f.apply(c[d].c,a)}}function u(a,b,c){for(var d=a[c],e=b(d);c>0;){var f=Math.floor((c+1)/2)-1,g=a[f];if(e>=b(g))break;a[f]=d,a[c]=g,c=f}}function v(a,b,c){for(var d=a.length,e=a[c],f=b(e);;){var g=2*(c+1),h=g-1,i=null;if(d>h){var j=a[h],k=b(j);f>k&&(i=h)}if(d>g){var l=a[g],m=b(l);m<(null===i?f:b(a[h]))&&(i=g)}if(null===i)break;a[c]=a[i],a[i]=e,c=i}}function w(a,b){if(a&&!j(a))throw new Error("DSBinaryHeap(weightFunc): weightFunc: must be a function!");a=a||function(a){return a},b=b||function(a,b){return a===b},this.weightFunc=a,this.compareFunc=b,this.heap=[]}function x(a,b,c,e){if(b){if(a===b)throw new Error("Cannot copy! Source and destination are identical.");if(c=c||[],e=e||[],g(a)){var f=c.indexOf(a);if(-1!==f)return e[f];c.push(a),e.push(b)}var i;if(O(a)){b.length=0;for(var j=0;j<a.length;j++)i=x(a[j],null,c,e),g(a[j])&&(c.push(a[j]),e.push(i)),b.push(i)}else{O(b)?b.length=0:J(b,function(a,c){delete b[c]});for(var k in a)a.hasOwnProperty(k)&&(i=x(a[k],null,c,e),g(a[k])&&(c.push(a[k]),e.push(i)),b[k]=i)}}else if(b=a,a)if(O(a))b=x(a,[],c,e);else if(h(a))b=new Date(a.getTime());else if(d(a))b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex;else if(g(a)){var l=Object.create(Object.getPrototypeOf(a));b=x(a,l,c,e)}return b}function y(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,e,f,g=typeof a,i=typeof b;if(g==i&&"object"==g){if(!O(a)){if(h(a))return h(b)?y(a.getTime(),b.getTime()):!1;if(d(a)&&d(b))return a.toString()==b.toString();if(O(b))return!1;f={};for(e in a)if("$"!==e.charAt(0)&&!j(a[e])){if(!y(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!f.hasOwnProperty(e)&&"$"!==e.charAt(0)&&void 0!==b[e]&&!j(b[e]))return!1;return!0}if(!O(b))return!1;if((c=a.length)==b.length){for(e=0;c>e;e++)if(!y(a[e],b[e]))return!1;return!0}}return!1}function z(a,b){return this.isString(b)||i(b)?b:b&&a?b[a.idAttribute]||b:b}function A(a,b){return a&&(f(b)||i(b))?a.index[b]||b:b}function B(a){return null!=a&&""!==a}function C(a,b){return b=b||"",q(a,B).join(b)}function D(){var a=C(K(arguments),"/");return a.replace(/([^:\/]|^)\/{2,}/g,"$1/")}var E,F,G=Object.prototype,H=G.toString,I=c(2),J=c(9),K=c(10),L=c(14),M=c(6),N=c(39);N.polyfill();var O=Array.isArray||function(a){return"[object Array]"==H.call(a)||!1};try{E=window,E.Promise.prototype["finally"]||(E.Promise.prototype["finally"]=r),F=E.Promise,E={}}catch(P){E=null,F=c(4)}var Q=w.prototype;Q.push=function(a){this.heap.push(a),u(this.heap,this.weightFunc,this.heap.length-1)},Q.peek=function(){return this.heap[0]},Q.pop=function(){var a=this.heap[0],b=this.heap.pop();return this.heap.length>0&&(this.heap[0]=b,v(this.heap,this.weightFunc,0)),a},Q.remove=function(a){for(var b=this.heap.length,c=0;b>c;c++)if(this.compareFunc(this.heap[c],a)){var d=this.heap[c],e=this.heap.pop();return c!==b-1&&(this.heap[c]=e,u(this.heap,this.weightFunc,c),v(this.heap,this.weightFunc,c)),d}return null},Q.removeAll=function(){this.heap=[]},Q.size=function(){return this.heap.length};var R=["beforeValidate","validate","afterValidate","beforeCreate","afterCreate","beforeUpdate","afterUpdate","beforeDestroy","afterDestroy"];M.setEqualityFn(y);var S={_:function(a,b){var c=this;if(b=b||{},b&&b.constructor===a.constructor)return b;if(!g(b))throw new I.IA('"options" must be an object!');J(R,function(a){"function"==typeof b[a]&&-1===b[a].toString().indexOf("var args = Array")&&(b[a]=c.promisify(b[a]))});var d=function(a){var b=this;L(a,function(a,c){b[c]=a})};return d.prototype=a,d.prototype.orig=function(){var a={};return L(this,function(b,c){a[c]=b}),a},new d(b)},_n:i,_s:f,_sn:k,_snErr:l,_o:g,_oErr:m,_a:O,_aErr:n,compute:function(a,b){var c=this,d=[];J(a.deps,function(a){d.push(c[a])}),c[b]=a[a.length-1].apply(c,d)},contains:c(11),copy:x,deepMixIn:c(15),diffObjectFromOldObject:M.diffObjectFromOldObject,DSBinaryHeap:w,equals:y,Events:t,filter:q,forEach:J,forOwn:L,fromJson:function(a){return f(a)?JSON.parse(a):a},get:c(16),intersection:p,isArray:O,isBoolean:e,isDate:h,isEmpty:o,isFunction:j,isObject:g,isNumber:i,isRegExp:d,isString:f,makePath:D,observe:M,pascalCase:c(19),pick:c(17),Promise:F,promisify:function(a,b){var c=this.Promise;if(a){if("function"!=typeof a)throw new Error("Can only promisify functions!");return function(){var d=Array.prototype.slice.apply(arguments);return new c(function(c,e){d.push(function(a,b){a?e(a):c(b)});try{var f=a.apply(b||this,d);f&&f.then&&f.then(c,e)}catch(g){e(g)}})}}},remove:c(12),set:c(18),slice:K,sort:c(13),toJson:JSON.stringify,updateTimestamp:s,upperCase:c(20),removeCircular:function(a){var b=[];return function c(a){var d,e;if(!("object"!=typeof a||null===a||a instanceof Boolean||a instanceof Date||a instanceof Number||a instanceof RegExp||a instanceof String)){for(d=0;d<b.length;d+=1)if(b[d]===a)return void 0;if(b.push(a),S.isArray(a))for(e=[],d=0;d<a.length;d+=1)e[d]=c(a[d]);else e={},L(a,function(b,d){e[d]=c(a[d])});return e}return a}(a)},resolveItem:A,resolveId:z,w:E};a.exports=S},function(a){function b(a){Error.call(this),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.type=this.constructor.name,this.message=a||"Illegal Argument!"}function c(a){Error.call(this),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.type=this.constructor.name,this.message=a||"RuntimeError Error!"}function d(a){Error.call(this),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.type=this.constructor.name,this.message=(a||"")+" is not a registered resource!"}b.prototype=new Error,b.prototype.constructor=b,c.prototype=new Error,c.prototype.constructor=c,d.prototype=new Error,d.prototype.constructor=d,a.exports={IllegalArgumentError:b,IA:b,RuntimeError:c,R:c,NonexistentResourceError:d,NER:d}},function(a,b,c){function d(a,b,c){c(null,b)}function e(a,b){return b}function f(a,b,c,d){var e=a[b],g=j.get(c,e[0]),h=j.get(d,e[0]);return j._s(g)&&(g=j.upperCase(g)),j._s(h)&&(h=j.upperCase(h)),"DESC"===e[1]?g>h?-1:h>g?1:b<a.length-1?f(a,b+1,c,d):0:h>g?-1:g>h?1:b<a.length-1?f(a,b+1,c,d):0}function g(){}function h(a){var b=this;a=a||{};try{i=c(5)}catch(d){}if(!i||j.isEmpty(i))try{i=window.Schemator}catch(d){}(i||a.schemator)&&(b.schemator=a.schemator||new i),b.store={},b.s=b.store,b.definitions={},b.defs=b.definitions,b.adapters={},b.defaults=new g,b.observe=j.observe,j.forOwn(a,function(a,c){b.defaults[c]=a})}var i,j=c(1),k=c(2),l=c(7),m=c(8),n=g.prototype;n.actions={},n.afterCreate=d,n.afterCreateInstance=e,n.afterDestroy=d,n.afterEject=e,n.afterInject=e,n.afterReap=e,n.afterUpdate=d,n.afterValidate=d,n.allowSimpleWhere=!0,n.basePath="",n.beforeCreate=d,n.beforeCreateInstance=e,n.beforeDestroy=d,n.beforeEject=e,n.beforeInject=e,n.beforeReap=e,n.beforeUpdate=d,n.beforeValidate=d,n.bypassCache=!1,n.cacheResponse=!!j.w,n.defaultAdapter="http",n.debug=!0,n.eagerEject=!1,n.eagerInject=!1,n.endpoint="",n.error=console?function(a,b,c){console["function"==typeof console.error?"error":"log"](a,b,c)}:!1,n.errorFn=function(a,b){if(this.error&&"function"==typeof this.error){try{throw"string"==typeof a?new Error(a):a}catch(c){a=c}this.error(this.name||null,a||null,b||null)}},n.fallbackAdapters=["http"],n.findBelongsTo=!0,n.findHasOne=!0,n.findHasMany=!0,n.findInverseLinks=!0,n.idAttribute="id",n.ignoredChanges=[/\$/],n.ignoreMissing=!1,n.keepChangeHistory=!1,n.loadFromServer=!1,n.log=console?function(a,b,c,d,e){console["function"==typeof console.info?"info":"log"](a,b,c,d,e)}:!1,n.logFn=function(a,b,c,d){this.debug&&this.log&&"function"==typeof this.log&&this.log(this.name||null,a||null,b||null,c||null,d||null)},n.maxAge=!1,n.notify=!!j.w,n.reapAction=j.w?"inject":"none",n.reapInterval=j.w?3e4:!1,n.resetHistoryOnInject=!0,n.strategy="single",n.upsert=!!j.w,n.useClass=!0,n.useFilter=!1,n.validate=d,n.defaultFilter=function(a,b,c,d){var e=a,g=null,h={skip:"",offset:"",where:"",limit:"",orderBy:"",sort:""};c=c||{},d=d||{},g=j._o(c.where)?c.where:{},d.allowSimpleWhere&&j.forOwn(c,function(a,b){b in h||b in g||(g[b]={"==":a})}),j.isEmpty(g)&&(g=null),g&&(e=j.filter(e,function(a){var b=!0,c=!0;return j.forOwn(g,function(d,e){j._s(d)?d={"===":d}:(j._n(d)||j.isBoolean(d))&&(d={"==":d}),j._o(d)&&j.forOwn(d,function(d,f){var g,h="|"===f[0],i=a[e];f=h?f.substr(1):f,"=="===f?g=i==d:"==="===f?g=i===d:"!="===f?g=i!=d:"!=="===f?g=i!==d:">"===f?g=i>d:">="===f?g=i>=d:"<"===f?g=d>i:"<="===f?g=d>=i:"isectEmpty"===f?g=!j.intersection(i||[],d||[]).length:"isectNotEmpty"===f?g=j.intersection(i||[],d||[]).length:"in"===f?g=j._s(d)?-1!==d.indexOf(i):j.contains(d,i):"notIn"===f?g=j._s(d)?-1===d.indexOf(i):!j.contains(d,i):"contains"===f?g=j._s(i)?-1!==i.indexOf(d):j.contains(i,d):"notContains"===f&&(g=j._s(i)?-1===i.indexOf(d):!j.contains(i,d)),void 0!==g&&(c=b?g:h?c||g:c&&g),b=!1})}),c}));var i=null;if(j._s(c.orderBy)?i=[[c.orderBy,"ASC"]]:j._a(c.orderBy)&&(i=c.orderBy),!i&&j._s(c.sort)?i=[[c.sort,"ASC"]]:!i&&j._a(c.sort)&&(i=c.sort),i){var l=0;j.forEach(i,function(a,b){if(j._s(a))i[b]=[a,"ASC"];else if(!j._a(a))throw new k.IA("DS.filter(resourceName[, params][, options]): "+j.toJson(a)+": Must be a string or an array!",{params:{"orderBy[i]":{actual:typeof a,expected:"string|array"}}})}),e=j.sort(e,function(a,b){return f(i,l,a,b)})}var m=j._n(c.limit)?c.limit:null,n=null;return j._n(c.skip)?n=c.skip:j._n(c.offset)&&(n=c.offset),m&&n?e=j.slice(e,n,Math.min(e.length,n+m)):j._n(m)?e=j.slice(e,0,Math.min(e.length,m)):j._n(n)&&(e=n<e.length?j.slice(e,n):[]),e};var o=h.prototype;o.getAdapter=function(a){var b=!1;a=a||{},j._s(a)&&(b=!0,a={adapter:a});var c=this.adapters[a.adapter];if(c)return c;if(b)throw new Error(a.adapter+" is not a registered adapter!");return this.adapters[a.defaultAdapter]},o.getAdapter.shorthand=!1,o.registerAdapter=function(a,b,c){var d=this;c=c||{},d.adapters[a]=j.isFunction(b)?new b(c):b,c["default"]&&(d.defaults.defaultAdapter=a)},o.registerAdapter.shorthand=!1,o.is=function(a,b){var c=this.defs[a];if(!c)throw new k.NER(a);return b instanceof c[c["class"]]},o.errors=c(2),o.utils=j,j.deepMixIn(o,l),j.deepMixIn(o,m),a.exports=h},function(a){a.exports=__WEBPACK_EXTERNAL_MODULE_4__},function(a){if("undefined"==typeof __WEBPACK_EXTERNAL_MODULE_5__){var b=new Error('Cannot find module "undefined"');throw b.code="MODULE_NOT_FOUND",b}a.exports=__WEBPACK_EXTERNAL_MODULE_5__},function(module,exports,__webpack_require__){!function(global){"use strict";function detectObjectObserve(){function a(a){b=a}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var b=[],c={},d=[];return Object.observe(c,a),Array.observe(d,a),c.id=1,c.id=2,delete c.id,d.push(1,2),d.length=0,Object.deliverChangeRecords(a),5!==b.length?!1:"add"!=b[0].type||"update"!=b[1].type||"delete"!=b[2].type||"splice"!=b[3].type||"splice"!=b[4].type?!1:(Object.unobserve(c,a),Array.unobserve(d,a),!0)}function detectEval(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;try{var a=new Function("","return true;");return a()}catch(b){return!1}}function dirtyCheck(a){for(var b=0;MAX_DIRTY_CHECK_CYCLES>b&&a.check_();)b++;return global.testingExposeCycleCount&&(global.dirtyCheckCycleCount=b),b>0}function objectIsEmpty(a){for(var b in a)return!1;return!0}function diffIsEmpty(a){return objectIsEmpty(a.added)&&objectIsEmpty(a.removed)&&objectIsEmpty(a.changed)}function isBlacklisted(a,b){if(!b||!b.length)return!1;for(var c,d=0;d<b.length;d++)if("[object RegExp]"===Object.prototype.toString.call(b[d])&&b[d].test(a)||b[d]===a)return c=a;return!!c}function diffObjectFromOldObject(a,b,c,d){var e={},f={},g={};for(var h in b){var i=a[h];isBlacklisted(h,d)||void 0!==i&&(c?c(i,b[h]):i===b[h])||(h in a?(c?c(i,b[h]):i===b[h])||(g[h]=i):f[h]=void 0)}for(var h in a)h in b||isBlacklisted(h,d)||(e[h]=a[h]);return Array.isArray(a)&&a.length!==b.length&&(g.length=a.length),{added:e,removed:f,changed:g}}function runEOMTasks(){if(!eomTasks.length)return!1;for(var a=0;a<eomTasks.length;a++)eomTasks[a]();return eomTasks.length=0,!0}function newObservedObject(){function a(a){b&&b.state_===OPENED&&!d&&b.check_(a)}var b,c,d=!1,e=!0;return{open:function(c){if(b)throw Error("ObservedObject in use");e||Object.deliverChangeRecords(a),b=c,e=!1},observe:function(b,d){c=b,d?Array.observe(c,a):Object.observe(c,a)},deliver:function(b){d=b,Object.deliverChangeRecords(a),d=!1},close:function(){b=void 0,Object.unobserve(c,a),observedObjectCache.push(this)}}}function getObservedObject(a,b,c){var d=observedObjectCache.pop()||newObservedObject();return d.open(a),d.observe(b,c),d}function Observer(){this.state_=UNOPENED,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=nextObserverId++}function addToAll(a){Observer._allObserversCount++,collectObservers&&allObservers.push(a)}function removeFromAll(){Observer._allObserversCount--}function ObjectObserver(a){Observer.call(this),this.value_=a,this.oldObject_=void 0}function diffObjectFromChangeRecords(a,b,c){for(var d={},e={},f=0;f<b.length;f++){var g=b[f];expectedRecordTypes[g.type]?(g.name in c||(c[g.name]=g.oldValue),"update"!=g.type&&("add"!=g.type?g.name in d?(delete d[g.name],delete c[g.name]):e[g.name]=!0:g.name in e?delete e[g.name]:d[g.name]=!0)):(console.error("Unknown changeRecord type: "+g.type),console.error(g))}for(var h in d)d[h]=a[h];for(var h in e)e[h]=void 0;var i={};for(var h in c)if(!(h in d||h in e)){var j=a[h];c[h]!==j&&(i[h]=j)}return{added:d,removed:e,changed:i}}var equalityFn=function(a,b){return a===b},blacklist=[],hasObserve=detectObjectObserve(),hasEval=detectEval(),createObject="__proto__"in{}?function(a){return a}:function(a){var b=a.__proto__;if(!b)return a;var c=Object.create(b);return Object.getOwnPropertyNames(a).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))}),c},MAX_DIRTY_CHECK_CYCLES=1e3,eomTasks=[],runEOM=hasObserve?function(){var a={pingPong:!0},b=!1;return Object.observe(a,function(){runEOMTasks(),b=!1}),function(c){eomTasks.push(c),b||(b=!0,a.pingPong=!a.pingPong)}}():function(){return function(a){eomTasks.push(a)}}(),observedObjectCache=[],UNOPENED=0,OPENED=1,CLOSED=2,nextObserverId=1;Observer.prototype={open:function(a,b){if(this.state_!=UNOPENED)throw Error("Observer has already been opened.");return addToAll(this),this.callback_=a,this.target_=b,this.connect_(),this.state_=OPENED,this.value_},close:function(){this.state_==OPENED&&(removeFromAll(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=CLOSED)},deliver:function(){this.state_==OPENED&&dirtyCheck(this)},report_:function(a){try{this.callback_.apply(this.target_,a)}catch(b){Observer._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(b.stack||b))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var collectObservers=!hasObserve,allObservers;Observer._allObserversCount=0,collectObservers&&(allObservers=[]);var runningMicrotaskCheckpoint=!1,hasDebugForceFullDelivery=hasObserve&&hasEval&&function(){try{return eval("%RunMicrotasks()"),!0}catch(ex){return!1}}();global.Platform=global.Platform||{},global.Platform.performMicrotaskCheckpoint=function(){if(!runningMicrotaskCheckpoint){if(hasDebugForceFullDelivery)return void eval("%RunMicrotasks()");if(collectObservers){runningMicrotaskCheckpoint=!0;var cycles=0,anyChanged,toCheck;do{cycles++,toCheck=allObservers,allObservers=[],anyChanged=!1;for(var i=0;i<toCheck.length;i++){var observer=toCheck[i];observer.state_==OPENED&&(observer.check_()&&(anyChanged=!0),allObservers.push(observer))}runEOMTasks()&&(anyChanged=!0)}while(MAX_DIRTY_CHECK_CYCLES>cycles&&anyChanged);global.testingExposeCycleCount&&(global.dirtyCheckCycleCount=cycles),runningMicrotaskCheckpoint=!1}}},collectObservers&&(global.Platform.clearObservers=function(){allObservers=[]}),ObjectObserver.prototype=createObject({__proto__:Observer.prototype,arrayObserve:!1,connect_:function(){hasObserve?this.directObserver_=getObservedObject(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(a){var b=Array.isArray(a)?[]:{};for(var c in a)b[c]=a[c];return Array.isArray(a)&&(b.length=a.length),b},check_:function(a){var b,c;if(hasObserve){if(!a)return!1;c={},b=diffObjectFromChangeRecords(this.value_,a,c)}else c=this.oldObject_,b=diffObjectFromOldObject(this.value_,this.oldObject_);return diffIsEmpty(b)?!1:(hasObserve||(this.oldObject_=this.copyObject(this.value_)),this.report_([b.added||{},b.removed||{},b.changed||{},function(a){return c[a]}]),!0)},disconnect_:function(){hasObserve?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==OPENED&&(hasObserve?this.directObserver_.deliver(!1):dirtyCheck(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}});var observerSentinel={},expectedRecordTypes={add:!0,update:!0,"delete":!0};global.Observer=Observer,global.diffObjectFromOldObject=diffObjectFromOldObject,global.setEqualityFn=function(a){equalityFn=a},global.setBlacklist=function(a){blacklist=a},global.Observer.runEOM_=runEOM,global.Observer.observerSentinel_=observerSentinel,global.Observer.hasObjectObserve=hasObserve,global.ObjectObserver=ObjectObserver}(exports)},function(a,b,c){function d(a,b,c){var d=this,e=d.defs[a];if(c=c||{},b=p.resolveId(e,b),!e)throw new r(a);if(!p._sn(b))throw p._snErr("id");c=p._(e,c);var f=d.get(a,b);if(f){p.w&&d.s[a].observers[b].deliver();var g=p.diffObjectFromOldObject(f,d.s[a].previousAttributes[b],p.equals,c.ignoredChanges);return p.forOwn(g,function(a,b){var c=[];p.forOwn(a,function(a,b){p.isFunction(a)||c.push(b)}),g[b]=p.pick(g[b],c)}),p.forEach(e.relationFields,function(a){delete g.added[a],delete g.removed[a],delete g.changed[a]}),g}}function e(a,b){var c=this,d=c.defs[a],e=c.s[a];if(b=p.resolveId(d,b),a&&!c.defs[a])throw new r(a);if(b&&!p._sn(b))throw p._snErr("id");if(d.keepChangeHistory){if(!a)return e.changeHistory;var f=c.get(a,b);if(f)return e.changeHistories[b]}else d.errorFn("changeHistory is disabled for this resource!")}function f(a,b){var c=this,d=c.defs[a];if(b=p.resolveItem(c.s[a],b),!d)throw new r(a);if(!b)throw new t("Item not in the store!");if(!p._o(b)&&!p._sn(b))throw new s('"instance" must be an object, string or number!');return p.forOwn(d.computed,function(a,c){p.compute.call(b,a,c)}),b}function g(a,b,c){var d,e=this.defs[a];if(b=b||{},!e)throw new r(a);if(b&&!p.isObject(b))throw new s('"attrs" must be an object!');if(c=p._(e,c),c.notify&&c.beforeCreateInstance(c,b),c.useClass){var f=e[e["class"]];d=new f}else d={};return p.deepMixIn(d,b),c.notify&&c.afterCreateInstance(c,b),d}function h(a){return!(p.isEmpty(a.added)&&p.isEmpty(a.removed)&&p.isEmpty(a.changed))}function i(){this.observe.Platform.performMicrotaskCheckpoint()}function j(a,b,c){var d=this,e=d.defs[a];if(!e)throw new r(a);if(!p._sn(b))throw p._snErr("id");c=p._(e,c);var f=d.s[a].index[b];return!f&&c.loadFromServer&&d.find(a,b,c),f}function k(a,b){var c=this,d=c.defs[a],e=c.s[a],f=[];if(!d)throw new r(a);if(b&&!p._a(b))throw p._aErr("ids");if(p._a(b))for(var g=b.length,h=0;g>h;h++)e.index[b[h]]&&f.push(e.index[b[h]]);else f=e.collection.slice();return f}function l(a,b){var c=this,d=c.defs[a];if(b=p.resolveId(d,b),!d)throw new r(a);if(!p._sn(b))throw p._snErr("id");return c.get(a,b)?h(c.changes(a,b)):!1}function m(a,b){var c=this.defs[a],d=this.s[a];if(b=p.resolveId(c,b),!c)throw new r(a);return b?(b in d.modified||(d.modified[b]=0),d.modified[b]):d.collectionModified}function n(a,b){var c=this.defs[a],d=this.s[a];if(b=p.resolveId(c,b),!c)throw new r(a);return b in d.saved||(d.saved[b]=0),d.saved[b]}function o(a,b){var c=this,d=c.defs[a],e=c.s[a];if(b=p.resolveId(d,b),!d)throw new r(a);if(!p._sn(b))throw p._snErr("id");return e.previousAttributes[b]?p.copy(e.previousAttributes[b]):void 0}var p=c(1),q=c(2),r=q.NER,s=q.IA,t=q.R;a.exports={changes:d,changeHistory:e,compute:f,createInstance:g,defineResource:c(21),digest:i,eject:c(22),ejectAll:c(23),filter:c(24),get:j,getAll:k,hasChanges:l,inject:c(25),lastModified:m,lastSaved:n,link:c(26),linkAll:c(27),linkInverse:c(28),previous:o,unlinkInverse:c(29)}},function(a,b,c){function d(a,b){var c=this,d=c.defs[a],e=c.s[a];return new f.Promise(function(g,h){if(d){b=f._(d,b),b.hasOwnProperty("notify")||(b.notify=!1);for(var i,j=[],k=(new Date).getTime();(i=e.expiresHeap.peek())&&i.expires<k;)j.push(i.item),delete i.item,e.expiresHeap.pop();g(j)}else h(new c.errors.NER(a))}).then(function(g){if((b.isInterval||b.notify)&&(d.beforeReap(b,g),d.emit("DS.beforeReap",d,g)),"inject"===b.reapAction){var h=(new Date).getTime();f.forEach(g,function(a){a[d.idAttribute];e.expiresHeap.push({item:a,timestamp:h,expires:d.maxAge?h+d.maxAge:Number.MAX_VALUE})})}else if("eject"===b.reapAction)f.forEach(g,function(b){c.eject(a,b[d.idAttribute])});else if("refresh"===b.reapAction){var i=[];return f.forEach(g,function(b){i.push(c.refresh(a,b[d.idAttribute]))}),f.Promise.all(i)}return g}).then(function(a){return(b.isInterval||b.notify)&&(d.afterReap(b,a),d.emit("DS.afterReap",d,a)),a})}function e(a,b,c){var d=this;return new f.Promise(function(e,g){var h=d.defs[a];b=f.resolveId(d.defs[a],b),h?f._sn(b)?(c=f._(h,c),c.bypassCache=!0,e(d.get(a,b))):g(f._snErr("id")):g(new d.errors.NER(a))}).then(function(e){return e?d.find(a,b,c):e})}{var f=c(1);c(2)}a.exports={create:c(30),destroy:c(31),destroyAll:c(32),find:c(33),findAll:c(34),loadRelations:c(35),reap:d,refresh:e,save:c(36),update:c(37),updateAll:c(38)}},function(a){function b(a,b,c){if(null!=a)for(var d=-1,e=a.length;++d<e&&b.call(c,a[d],d,a)!==!1;);}a.exports=b},function(a){function b(a,b,c){var d=a.length;b=null==b?0:0>b?Math.max(d+b,0):Math.min(b,d),c=null==c?d:0>c?Math.max(d+c,0):Math.min(c,d);for(var e=[];c>b;)e.push(a[b++]);return e}a.exports=b},function(a,b,c){function d(a,b){return-1!==e(a,b)}var e=c(40);a.exports=d},function(a,b,c){function d(a,b){var c=e(a,b);-1!==c&&a.splice(c,1)}var e=c(40);a.exports=d},function(a){function b(a,e){if(null==a)return[];if(a.length<2)return a;null==e&&(e=c);var f,g,h;return f=~~(a.length/2),g=b(a.slice(0,f),e),h=b(a.slice(f,a.length),e),d(g,h,e)}function c(a,b){return b>a?-1:a>b?1:0}function d(a,b,c){for(var d=[];a.length&&b.length;)d.push(c(a[0],b[0])<=0?a.shift():b.shift());return a.length&&d.push.apply(d,a),b.length&&d.push.apply(d,b),d}a.exports=b},function(a,b,c){function d(a,b,c){f(a,function(d,f){return e(a,f)?b.call(c,a[f],f,a):void 0})}var e=c(42),f=c(43);a.exports=d},function(a,b,c){function d(a){for(var b,c=0,d=arguments.length;++c<d;)b=arguments[c],b&&f(b,e,a);return a}function e(a,b){var c=this[b];g(a)&&g(c)?d(c,a):this[b]=a}var f=c(14),g=c(41);a.exports=d},function(a,b,c){function d(a,b){for(var c=b.split("."),d=c.pop();b=c.shift();)if(a=a[b],null==a)return;return a[d]}c(44);a.exports=d},function(a,b,c){function d(a){for(var b,c="string"!=typeof arguments[1]?arguments[1]:e(arguments,1),d={},f=0;b=c[f++];)d[b]=a[b];return d}var e=c(10);a.exports=d},function(a,b,c){function d(a,b,c){var d=/^(.+)\.(.+)$/.exec(b);d?e(a,d[1])[d[2]]=c:a[b]=c}var e=c(45);a.exports=d},function(a,b,c){function d(a){return a=e(a),f(a).replace(/^[a-z]/,g)}var e=c(46),f=c(47),g=c(20);a.exports=d},function(a,b,c){function d(a){return a=e(a),a.toUpperCase()}var e=c(46);a.exports=d},function(module,exports,__webpack_require__){function Resource(a){DSUtils.deepMixIn(this,a),this.endpoint="endpoint"in a?a.endpoint:this.name}function defineResource(definition){var _this=this,definitions=_this.defs;if(DSUtils._s(definition)&&(definition={name:definition.replace(/\s/gi,"")}),!DSUtils._o(definition))throw DSUtils._oErr("definition");if(!DSUtils._s(definition.name))throw new DSErrors.IA('"name" must be a string!');if(_this.s[definition.name])throw new DSErrors.R(definition.name+" is already registered!");try{Resource.prototype=_this.defaults,definitions[definition.name]=new Resource(definition);var def=definitions[definition.name];if(def.n=def.name,!DSUtils._s(def.idAttribute))throw new DSErrors.IA('"idAttribute" must be a string!');def.relations&&(def.relationList=[],def.relationFields=[],DSUtils.forOwn(def.relations,function(a,b){DSUtils.forOwn(a,function(c,d){DSUtils._a(c)||(a[d]=[c]),DSUtils.forEach(a[d],function(a){a.type=b,a.relation=d,a.name=def.n,def.relationList.push(a),def.relationFields.push(a.localField)})})}),def.relations.belongsTo&&DSUtils.forOwn(def.relations.belongsTo,function(a,b){DSUtils.forEach(a,function(a){a.parent&&(def.parent=b,def.parentKey=a.localKey,def.parentField=a.localField)})}),"function"==typeof Object.freeze&&(Object.freeze(def.relations),Object.freeze(def.relationList))),def.getResource=function(a){return _this.defs[a]},def.getEndpoint=function(a,b){b.params=b.params||{};var c,d=def.parentKey,e=b.hasOwnProperty("endpoint")?b.endpoint:def.endpoint,f=def.parentField,g=definitions[def.parent],h=b.params[d];if(h!==!1&&d&&g){if(delete b.params[d],DSUtils._sn(a)?c=def.get(a):DSUtils._o(a)&&(c=a),c&&(h=h||c[d]||(c[f]?c[f][g.idAttribute]:null)),h){delete b.endpoint;var i={};return DSUtils.forOwn(b,function(a,b){i[b]=a}),DSUtils.makePath(g.getEndpoint(h,DSUtils._(g,i)),h,e)}return e}return h===!1&&delete b.params[d],e},def.filter&&(def.defaultFilter=def.filter,delete def.filter),def["class"]=DSUtils.pascalCase(def.name);try{"function"==typeof def.useClass?(eval("function "+def["class"]+"() { def.useClass.call(this); }"),def[def["class"]]=eval(def["class"]),def[def["class"]].prototype=function(a){function b(){}return b.prototype=a,new b}(def.useClass.prototype)):(eval("function "+def["class"]+"() {}"),def[def["class"]]=eval(def["class"]))}catch(e){def[def["class"]]=function(){}}def.methods&&DSUtils.deepMixIn(def[def["class"]].prototype,def.methods),def[def["class"]].prototype.set=function(a,b){DSUtils.set(this,a,b);var c=_this.s[def.n].observers[this[def.idAttribute]];return c&&!DSUtils.observe.hasObjectObserve?c.deliver():_this.compute(def.n,this),this},def[def["class"]].prototype.get=function(a){return DSUtils.get(this,a)},def.computed&&DSUtils.forOwn(def.computed,function(a,b){DSUtils.isFunction(a)&&(def.computed[b]=[a],a=def.computed[b]),def.methods&&b in def.methods&&def.errorFn('Computed property "'+b+'" conflicts with previously defined prototype method!');var c;if(1===a.length){var d=a[0].toString().match(/function.*?\(([\s\S]*?)\)/);c=d[1].split(","),def.computed[b]=c.concat(a),a=def.computed[b],c.length&&def.errorFn("Use the computed property array syntax for compatibility with minified code!")}c=a.slice(0,a.length-1),DSUtils.forEach(c,function(a,b){c[b]=a.trim()}),a.deps=DSUtils.filter(c,function(a){return!!a})}),definition.schema&&_this.schemator&&(def.schema=_this.schemator.defineSchema(def.n,definition.schema),definition.hasOwnProperty("validate")||(def.validate=function(a,b,c){def.schema.validate(b,{ignoreMissing:def.ignoreMissing},function(a){return a?c(a):c(null,b)})})),DSUtils.forEach(instanceMethods,function(a){def[def["class"]].prototype["DS"+DSUtils.pascalCase(a)]=function(){var b=Array.prototype.slice.call(arguments);return b.unshift(this[def.idAttribute]||this),b.unshift(def.n),_this[a].apply(_this,b)}}),def[def["class"]].prototype.DSCreate=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(this),a.unshift(def.n),_this.create.apply(_this,a)},_this.s[def.n]={collection:[],expiresHeap:new DSUtils.DSBinaryHeap(function(a){return a.expires},function(a,b){return a.item===b}),completedQueries:{},queryData:{},pendingQueries:{},index:{},modified:{},saved:{},previousAttributes:{},observers:{},changeHistories:{},changeHistory:[],collectionModified:0},def.reapInterval&&setInterval(function(){_this.reap(def.n,{isInterval:!0})},def.reapInterval);for(var key in _this)"function"==typeof _this[key]&&(_this[key].shorthand!==!1?!function(a){def[a]=function(){var b=Array.prototype.slice.call(arguments);return b.unshift(def.n),_this[a].apply(_this,b)}}(key):!function(a){def[a]=function(){return _this[a].apply(_this,Array.prototype.slice.call(arguments))}}(key));return def.beforeValidate=DSUtils.promisify(def.beforeValidate),def.validate=DSUtils.promisify(def.validate),def.afterValidate=DSUtils.promisify(def.afterValidate),def.beforeCreate=DSUtils.promisify(def.beforeCreate),def.afterCreate=DSUtils.promisify(def.afterCreate),def.beforeUpdate=DSUtils.promisify(def.beforeUpdate),def.afterUpdate=DSUtils.promisify(def.afterUpdate),def.beforeDestroy=DSUtils.promisify(def.beforeDestroy),def.afterDestroy=DSUtils.promisify(def.afterDestroy),DSUtils.forOwn(def.actions,function(a,b){if(def[b])throw new Error('Cannot override existing method "'+b+'"!');def[b]=function(c){c=c||{};var d=_this.getAdapter(a.adapter||"http"),e=DSUtils.deepMixIn({},a);return!c.hasOwnProperty("endpoint")&&e.endpoint&&(c.endpoint=e.endpoint),e.url="function"==typeof c.getEndpoint?c.getEndpoint(def,c):DSUtils.makePath(c.basePath||d.defaults.basePath||def.basePath,def.getEndpoint(null,c),b),e.method=e.method||"GET",DSUtils.deepMixIn(e,c),d.HTTP(e)}}),DSUtils.Events(def),def}catch(err){throw delete definitions[definition.name],delete _this.s[definition.name],err}}var DSUtils=__webpack_require__(1),DSErrors=__webpack_require__(2),instanceMethods=["compute","refresh","save","update","destroy","loadRelations","changeHistory","changes","hasChanges","lastModified","lastSaved","link","linkInverse","previous","unlinkInverse"];
module.exports=defineResource},function(a,b,c){function d(a,b,c){var d,g=this,h=g.defs[a],i=g.s[a],j=!1;if(b=e.resolveId(h,b),!h)throw new f.NER(a);if(!e._sn(b))throw e._snErr("id");c=e._(h,c);for(var k=0;k<i.collection.length;k++)if(i.collection[k][h.idAttribute]==b){d=i.collection[k],i.expiresHeap.remove(d),j=!0;break}if(j){c.notify&&(h.beforeEject(c,d),h.emit("DS.beforeEject",h,d)),g.unlinkInverse(h.n,b),i.collection.splice(k,1),e.w&&i.observers[b].close(),delete i.observers[b],delete i.index[b],delete i.previousAttributes[b],delete i.completedQueries[b],delete i.pendingQueries[b],e.forEach(i.changeHistories[b],function(a){e.remove(i.changeHistory,a)});var l=[];return e.forOwn(i.queryData,function(a,b){a.$$injected&&e.remove(a,d),a.length||l.push(b)}),e.forEach(l,function(a){delete i.completedQueries[a],delete i.queryData[a]}),delete i.changeHistories[b],delete i.modified[b],delete i.saved[b],i.collectionModified=e.updateTimestamp(i.collectionModified),c.notify&&(h.afterEject(c,d),h.emit("DS.afterEject",h,d)),d}}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d=this,g=d.defs[a];if(b=b||{},!g)throw new f.NER(a);if(!e._o(b))throw e._oErr("params");var h=d.s[a];e.isEmpty(b)&&(h.completedQueries={});var i=e.toJson(b),j=d.filter(g.n,b),k=[];return e.forEach(j,function(a){a&&a[g.idAttribute]&&k.push(a[g.idAttribute])}),e.forEach(k,function(a){d.eject(g.n,a,c)}),delete h.completedQueries[i],h.collectionModified=e.updateTimestamp(h.collectionModified),j}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d=this,g=d.defs[a],h=d.s[a];if(!g)throw new f.NER(a);if(b&&!e._o(b))throw e._oErr("params");c=e._(g,c),b=b||{};var i=e.toJson(b);return i in h.completedQueries||!c.loadFromServer||h.pendingQueries[i]||d.findAll(a,b,c),g.defaultFilter.call(d,h.collection,a,b,c)}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d=b.n;return function(e,f,g,i,j){var k,l=this,m=i&&i(b.idAttribute)?i(b.idAttribute):l[b.idAttribute];if(h.forEach(b.relationFields,function(a){delete e[a],delete f[a],delete g[a]}),(!h.isEmpty(e)||!h.isEmpty(f)||!h.isEmpty(g)||j)&&(k=a.get(d,m),c.modified[m]=h.updateTimestamp(c.modified[m]),c.collectionModified=h.updateTimestamp(c.collectionModified),b.keepChangeHistory)){var n={resourceName:d,target:k,added:e,removed:f,changed:g,timestamp:c.modified[m]};c.changeHistories[m].push(n),c.changeHistory.push(n)}b.computed&&(k=k||a.get(d,m),h.forOwn(b.computed,function(a,b){var c=!1;h.forEach(a.deps,function(a){(a in e||a in f||a in g||!(b in k))&&(c=!0)}),c=c||!a.deps.length,c&&h.compute.call(k,a,b)})),b.relations&&(k=k||a.get(d,m),h.forEach(b.relationList,function(c){k[c.localField]&&(c.localKey in e||c.localKey in f||c.localKey in g)&&a.link(d,k[b.idAttribute],[c.relation])})),b.idAttribute in g&&b.errorFn('Doh! You just changed the primary key of an object! Your data for the "'+d+'" resource is now in an undefined (probably broken) state.')}}function e(a,b,c,f){var g,j=this,k=d(j,a,b,c,f);if(h._a(c)){g=[];for(var l=0;l<c.length;l++)g.push(e.call(j,a,b,c[l],f))}else{var m=a.computed,n=a.idAttribute;if(m&&m[n]){var o=[];h.forEach(m[n].deps,function(a){o.push(c[a])}),c[n]=m[n][m[n].length-1].apply(c,o)}if(!(n in c)){var p=new i.R(a.n+'.inject: "attrs" must contain the property specified by `idAttribute`!');throw f.errorFn(p),p}try{h.forEach(a.relationList,function(b){var d=b.relation,e=j.defs[d],g=c[b.localField];if(g){if(!e)throw new i.R(a.n+" relation is defined but the resource is not!");if(h._a(g)){var k=[];h.forEach(g,function(g){if(g!==j.s[d][g[e.idAttribute]])try{var h=j.inject(d,g,f.orig());b.foreignKey&&(h[b.foreignKey]=c[a.idAttribute]),k.push(h)}catch(i){f.errorFn(i,"Failed to inject "+b.type+' relation: "'+d+'"!')}}),c[b.localField]=k}else if(g!==j.s[d][g[e.idAttribute]])try{c[b.localField]=j.inject(d,c[b.localField],f.orig()),b.foreignKey&&(c[b.localField][b.foreignKey]=c[a.idAttribute])}catch(l){f.errorFn(l,"Failed to inject "+b.type+' relation: "'+d+'"!')}}});var q=c[n],r=j.get(a.n,q),s=r?b.modified[q]:0;r?(h.deepMixIn(r,c),a.resetHistoryOnInject&&(b.previousAttributes[q]=h.copy(r),b.changeHistories[q].length&&(h.forEach(b.changeHistories[q],function(a){h.remove(b.changeHistory,a)}),b.changeHistories[q].splice(0,b.changeHistories[q].length))),h.w&&b.observers[q].deliver()):(r=f.useClass?c instanceof a[a["class"]]?c:new a[a["class"]]:{},h.deepMixIn(r,c),b.collection.push(r),b.changeHistories[q]=[],h.w&&(b.observers[q]=new j.observe.ObjectObserver(r),b.observers[q].open(k,r)),b.index[q]=r,k.call(r,{},{},{},null,!0),b.previousAttributes[q]=h.copy(r)),b.modified[q]=s&&b.modified[q]===s?h.updateTimestamp(b.modified[q]):b.modified[q],b.expiresHeap.remove(r);var t=(new Date).getTime();b.expiresHeap.push({item:r,timestamp:t,expires:a.maxAge?t+a.maxAge:Number.MAX_VALUE}),g=r}catch(u){f.errorFn(u,c)}}return g}function f(a,b,c){var d=this;h.forEach(a.relationList,function(e){c.findBelongsTo&&"belongsTo"===e.type&&b[a.idAttribute]?d.link(a.n,b[a.idAttribute],[e.relation]):(c.findHasMany&&"hasMany"===e.type||c.findHasOne&&"hasOne"===e.type)&&d.link(a.n,b[a.idAttribute],[e.relation])})}function g(a,b,c){var d,g=this,j=g.defs[a],k=g.s[a];if(!j)throw new i.NER(a);if(!h._o(b)&&!h._a(b))throw new i.IA(a+'.inject: "attrs" must be an object or an array!');var l=j.n;return c=h._(j,c),c.notify&&(c.beforeInject(c,b),j.emit("DS.beforeInject",j,b)),d=e.call(g,j,k,b,c),k.collectionModified=h.updateTimestamp(k.collectionModified),c.findInverseLinks&&(h._a(d)?d.length&&g.linkInverse(l,d[0][j.idAttribute]):g.linkInverse(l,d[j.idAttribute])),h._a(d)?h.forEach(d,function(a){f.call(g,j,a,c)}):f.call(g,j,d,c),c.notify&&(c.afterInject(c,d),j.emit("DS.afterInject",j,d)),d}var h=c(1),i=c(2);a.exports=g},function(a,b,c){function d(a,b,c){var d=this,g=d.defs[a];if(c=c||[],b=e.resolveId(g,b),!g)throw new f.NER(a);if(!e._sn(b))throw e._snErr("id");if(!e._a(c))throw e._aErr("relations");var h=d.get(a,b);return h&&e.forEach(g.relationList,function(a){var b=a.relation;if(!c.length||e.contains(c,b)){var f={};if("belongsTo"===a.type){var i=h[a.localKey]?d.get(b,h[a.localKey]):null;i&&(h[a.localField]=i)}else if("hasMany"===a.type)f[a.foreignKey]=h[g.idAttribute],h[a.localField]=d.defaults.constructor.prototype.defaultFilter.call(d,d.s[b].collection,b,f,{allowSimpleWhere:!0});else if("hasOne"===a.type){f[a.foreignKey]=h[g.idAttribute];var j=d.defaults.constructor.prototype.defaultFilter.call(d,d.s[b].collection,b,f,{allowSimpleWhere:!0});j.length&&(h[a.localField]=j[0])}}}),h}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d=this,g=d.defs[a];if(c=c||[],!g)throw new f.NER(a);if(!e._a(c))throw e._aErr("relations");var h=d.filter(a,b);return h&&e.forEach(g.relationList,function(a){var b=a.relation;(!c.length||e.contains(c,b))&&("belongsTo"===a.type?e.forEach(h,function(c){var e=c[a.localKey]?d.get(b,c[a.localKey]):null;e&&(c[a.localField]=e)}):"hasMany"===a.type?e.forEach(h,function(c){var e={};e[a.foreignKey]=c[g.idAttribute],c[a.localField]=d.defaults.constructor.prototype.defaultFilter.call(d,d.s[b].collection,b,e,{allowSimpleWhere:!0})}):"hasOne"===a.type&&e.forEach(h,function(c){var e={};e[a.foreignKey]=c[g.idAttribute];var f=d.defaults.constructor.prototype.defaultFilter.call(d,d.s[b].collection,b,e,{allowSimpleWhere:!0});f.length&&(c[a.localField]=f[0])}))}),h}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d=this,g=d.defs[a];if(c=c||[],b=e.resolveId(g,b),!g)throw new f.NER(a);if(!e._sn(b))throw e._snErr("id");if(!e._a(c))throw e._aErr("relations");var h=d.get(a,b);return h&&e.forOwn(d.defs,function(a){e.forOwn(a.relations,function(b){e.forOwn(b,function(b,f){(!c.length||e.contains(c,a.n))&&g.n===f&&d.linkAll(a.n,{},[g.n])})})}),h}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d=this,g=d.defs[a];if(c=c||[],b=e.resolveId(g,b),!g)throw new f.NER(a);if(!e._sn(b))throw e._snErr("id");if(!e._a(c))throw e._aErr("relations");var h=d.get(a,b);return h&&e.forOwn(d.defs,function(a){e.forOwn(a.relations,function(a){e.forOwn(a,function(a,b){g.n===b&&e.forEach(a,function(a){e.forEach(d.s[a.name].collection,function(b){if("hasMany"===a.type&&b[a.localField]){var c;e.forEach(b[a.localField],function(a,b){a===h&&(c=b)}),b[a.localField].splice(c,1)}else b[a.localField]===h&&delete b[a.localField]})})})})}),h}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d=this,g=d.defs[a];c=c||{},b=b||{};var h;if(g)if(e._o(b)){if(c=e._(g,c),c.upsert&&e._sn(b[g.idAttribute]))return d.update(a,b[g.idAttribute],b,c)}else h=e._oErr("attrs");else h=new f.NER(a);return new e.Promise(function(a,c){h?c(h):a(b)}).then(function(a){return c.beforeValidate.call(a,c,a)}).then(function(a){return c.validate.call(a,c,a)}).then(function(a){return c.afterValidate.call(a,c,a)}).then(function(a){return c.beforeCreate.call(a,c,a)}).then(function(a){return c.notify&&g.emit("DS.beforeCreate",g,a),d.getAdapter(c).create(g,a,c)}).then(function(a){return c.afterCreate.call(a,c,a)}).then(function(b){if(c.notify&&g.emit("DS.afterCreate",g,b),c.cacheResponse){var f=d.inject(g.n,b,c.orig()),h=f[g.idAttribute],i=d.s[a];return i.completedQueries[h]=(new Date).getTime(),i.saved[h]=e.updateTimestamp(i.saved[h]),f}return d.createInstance(a,b,c)})}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d,g=this,h=g.defs[a];return new e.Promise(function(i,j){b=e.resolveId(h,b),h?e._sn(b)?(d=g.get(a,b)||{id:b},c=e._(h,c),i(d)):j(e._snErr("id")):j(new f.NER(a))}).then(function(a){return c.beforeDestroy.call(a,c,a)}).then(function(d){return c.notify&&h.emit("DS.beforeDestroy",h,d),c.eagerEject&&g.eject(a,b),g.getAdapter(c).destroy(h,b,c)}).then(function(){return c.afterDestroy.call(d,c,d)}).then(function(d){return c.notify&&h.emit("DS.afterDestroy",h,d),g.eject(a,b),b})["catch"](function(b){throw c&&c.eagerEject&&d&&g.inject(a,d,{notify:!1}),b})}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d,g,h=this,i=h.defs[a];return b=b||{},new e.Promise(function(d,g){i?e._o(b)?(c=e._(i,c),d()):g(e._oErr("attrs")):g(new f.NER(a))}).then(function(){return g=h.defaults.defaultFilter.call(h,a,b),c.beforeDestroy(c,g)}).then(function(){return c.notify&&i.emit("DS.beforeDestroy",i,g),c.eagerEject&&(d=h.ejectAll(a,b)),h.getAdapter(c).destroyAll(i,b,c)}).then(function(){return c.afterDestroy(c,g)}).then(function(){return c.notify&&i.emit("DS.afterDestroy",i,g),d||h.ejectAll(a,b)})["catch"](function(b){throw c&&c.eagerEject&&d&&h.inject(a,d,{notify:!1}),b})}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d=this,g=d.defs[a],h=d.s[a];return new e.Promise(function(i,j){g?e._sn(b)?(c=e._(g,c),c.params&&(c.params=e.copy(c.params)),(c.bypassCache||!c.cacheResponse)&&delete h.completedQueries[b],b in h.completedQueries&&d.get(a,b)?i(d.get(a,b)):(delete h.completedQueries[b],i())):j(e._snErr("id")):j(new f.NER(a))}).then(function(f){function i(a){return d.getAdapter((c.findFallbackAdapters||c.fallbackAdapters)[a]).find(g,b,c)["catch"](function(b){return a++,a<c.fallbackAdapters.length?i(a):Promise.reject(b)})}if(f)return f;if(!(b in h.pendingQueries)){var j,k=c.findStrategy||c.strategy;j="fallback"===k?i(0):d.getAdapter(c).find(g,b,c),h.pendingQueries[b]=j.then(function(f){if(delete h.pendingQueries[b],c.cacheResponse){var g=d.inject(a,f,c.orig());return h.completedQueries[b]=(new Date).getTime(),h.saved[b]=e.updateTimestamp(h.saved[b]),g}return d.createInstance(a,f,c.orig())})}return h.pendingQueries[b]})["catch"](function(a){throw h&&delete h.pendingQueries[b],a})}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c,d){var e=this,g=e.s[b],h=e.defs[b].idAttribute,i=(new Date).getTime();a=a||[],delete g.pendingQueries[c],g.completedQueries[c]=i,g.collectionModified=f.updateTimestamp(g.collectionModified);var j=e.inject(b,a,d.orig());return f._a(j)?f.forEach(j,function(a){if(a){var b=a[h];b&&(g.completedQueries[b]=i,g.saved[b]=f.updateTimestamp(g.saved[b]))}}):(d.errorFn("response is expected to be an array!"),g.completedQueries[j[h]]=i),j}function e(a,b,c){var e,h=this,i=h.defs[a],j=h.s[a];return new f.Promise(function(d,k){b=b||{},h.defs[a]?f._o(b)?(c=f._(i,c),e=f.toJson(b),c.params&&(c.params=f.copy(c.params)),(c.bypassCache||!c.cacheResponse)&&(delete j.completedQueries[e],delete j.queryData[e]),e in j.completedQueries?d(c.useFilter?h.filter(a,b,c.orig()):j.queryData[e]):d()):k(f._oErr("params")):k(new g.NER(a))}).then(function(g){function k(a){return h.getAdapter((c.findAllFallbackAdapters||c.fallbackAdapters)[a]).findAll(i,b,c)["catch"](function(b){return a++,a<c.fallbackAdapters.length?k(a):Promise.reject(b)})}if(e in j.completedQueries)return g;if(!(e in j.pendingQueries)){var l,m=c.findAllStrategy||c.strategy;l="fallback"===m?k(0):h.getAdapter(c).findAll(i,b,c),j.pendingQueries[e]=l.then(function(b){return delete j.pendingQueries[e],c.cacheResponse?(j.queryData[e]=d.call(h,b,a,e,c),j.queryData[e].$$injected=!0,j.queryData[e]):(f.forEach(b,function(d,e){b[e]=h.createInstance(a,d,c.orig())}),b)})}return j.pendingQueries[e]})["catch"](function(a){throw j&&delete j.pendingQueries[e],a})}var f=c(1),g=c(2);a.exports=e},function(a,b,c){function d(a,b,c,d){var g=this,h=g.defs[a],i=[];return new e.Promise(function(j,k){if(e._sn(b)&&(b=g.get(a,b)),e._s(c)&&(c=[c]),h)if(e._o(b))if(e._a(c)){var l=e._(h,d);l.hasOwnProperty("findBelongsTo")||(l.findBelongsTo=!0),l.hasOwnProperty("findHasMany")||(l.findHasMany=!0);var m=[];e.forEach(h.relationList,function(a){var f=a.relation,j=h.getResource(f),k=e._(j,d);if(e.contains(c,f)||e.contains(c,a.localField)){var l,n={};k.allowSimpleWhere?n[a.foreignKey]=b[h.idAttribute]:(n.where={},n.where[a.foreignKey]={"==":b[h.idAttribute]}),"hasMany"===a.type&&n[a.foreignKey]?l=g.findAll(f,n,k.orig()):"hasOne"===a.type?a.localKey&&b[a.localKey]?l=g.find(f,b[a.localKey],k.orig()):a.foreignKey&&n[a.foreignKey]&&(l=g.findAll(f,n,k.orig()).then(function(a){return a.length?a[0]:null})):b[a.localKey]&&(l=g.find(f,b[a.localKey],d)),l&&(m.push(l),i.push(a.localField))}}),j(m)}else k(new f.IA('"relations" must be a string or an array!'));else k(new f.IA('"instance(id)" must be a string, number or object!'));else k(new f.NER(a))}).then(function(a){return e.Promise.all(a)}).then(function(a){return e.forEach(i,function(c,d){b[c]=a[d]}),b})}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c){var d,g=this,h=g.defs[a];return new e.Promise(function(i,j){b=e.resolveId(h,b),h?e._sn(b)?g.get(a,b)?(d=g.get(a,b),c=e._(h,c),i(d)):j(new f.R('id "'+b+'" not found in cache!')):j(e._snErr("id")):j(new f.NER(a))}).then(function(a){return c.beforeValidate.call(a,c,a)}).then(function(a){return c.validate.call(a,c,a)}).then(function(a){return c.afterValidate.call(a,c,a)}).then(function(a){return c.beforeUpdate.call(a,c,a)}).then(function(d){if(c.notify&&h.emit("DS.beforeUpdate",h,d),c.changesOnly){var f=g.s[a];e.w&&f.observers[b].deliver();var i=[],j=g.changes(a,b);for(var k in j.added)i.push(k);for(k in j.changed)i.push(k);if(j=e.pick(d,i),e.isEmpty(j))return d;d=j}return g.getAdapter(c).update(h,b,d,c)}).then(function(a){return c.afterUpdate.call(a,c,a)}).then(function(b){if(c.notify&&h.emit("DS.afterUpdate",h,b),c.cacheResponse){var d=g.inject(h.n,b,c.orig()),f=g.s[a],i=d[h.idAttribute];return f.saved[i]=e.updateTimestamp(f.saved[i]),h.resetHistoryOnInject||(f.previousAttributes[i]=e.copy(d)),d}return g.createInstance(a,b,c.orig())})}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c,d){var g=this,h=g.defs[a];return new e.Promise(function(g,i){b=e.resolveId(h,b),h?e._sn(b)?(d=e._(h,d),g(c)):i(e._snErr("id")):i(new f.NER(a))}).then(function(a){return d.beforeValidate.call(a,d,a)}).then(function(a){return d.validate.call(a,d,a)}).then(function(a){return d.afterValidate.call(a,d,a)}).then(function(a){return d.beforeUpdate.call(a,d,a)}).then(function(a){return d.notify&&h.emit("DS.beforeUpdate",h,a),g.getAdapter(d).update(h,b,a,d)}).then(function(a){return d.afterUpdate.call(a,d,a)}).then(function(b){if(d.notify&&h.emit("DS.afterUpdate",h,b),d.cacheResponse){var c=g.inject(h.n,b,d.orig()),f=g.s[a],i=c[h.idAttribute];return f.saved[i]=e.updateTimestamp(f.saved[i]),h.resetHistoryOnInject||(f.previousAttributes[i]=e.copy(c)),c}return g.createInstance(a,b,d.orig())})}var e=c(1),f=c(2);a.exports=d},function(a,b,c){function d(a,b,c,d){var g=this,h=g.defs[a];return new e.Promise(function(c,g){h?(d=e._(h,d),c(b)):g(new f.NER(a))}).then(function(a){return d.beforeValidate.call(a,d,a)}).then(function(a){return d.validate.call(a,d,a)}).then(function(a){return d.afterValidate.call(a,d,a)}).then(function(a){return d.beforeUpdate.call(a,d,a)}).then(function(a){return d.notify&&h.emit("DS.beforeUpdate",h,a),g.getAdapter(d).updateAll(h,a,c,d)}).then(function(a){return d.afterUpdate.call(a,d,a)}).then(function(c){d.notify&&h.emit("DS.afterUpdate",h,b);var f=d.orig();if(d.cacheResponse){var i=g.inject(h.n,c,f),j=g.s[a];return e.forEach(i,function(a){var b=a[h.idAttribute];j.saved[b]=e.updateTimestamp(j.saved[b]),h.resetHistoryOnInject||(j.previousAttributes[b]=e.copy(a))}),i}var k=[];return e.forEach(c,function(b){k.push(g.createInstance(a,b,f))}),k})}var e=c(1),f=c(2);a.exports=d},function(a,b,c){var d;(function(a,e,f){(function(){"use strict";function g(a){return"function"==typeof a||"object"==typeof a&&null!==a}function h(a){return"function"==typeof a}function i(a){return"object"==typeof a&&null!==a}function j(){}function k(){return function(){a.nextTick(o)}}function l(){var a=0,b=new R(o),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function m(){var a=new MessageChannel;return a.port1.onmessage=o,function(){a.port2.postMessage(0)}}function n(){return function(){setTimeout(o,1)}}function o(){for(var a=0;O>a;a+=2){var b=T[a],c=T[a+1];b(c),T[a]=void 0,T[a+1]=void 0}O=0}function p(){}function q(){return new TypeError("You cannot resolve a promise with itself")}function r(){return new TypeError("A promises callback cannot return that same promise.")}function s(a){try{return a.then}catch(b){return X.error=b,X}}function t(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function u(a,b,c){P(function(a){var d=!1,e=t(c,b,function(c){d||(d=!0,b!==c?x(a,c):z(a,c))},function(b){d||(d=!0,A(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,A(a,e))},a)}function v(a,b){b._state===V?z(a,b._result):a._state===W?A(a,b._result):B(b,void 0,function(b){x(a,b)},function(b){A(a,b)})}function w(a,b){if(b.constructor===a.constructor)v(a,b);else{var c=s(b);c===X?A(a,X.error):void 0===c?z(a,b):h(c)?u(a,b,c):z(a,b)}}function x(a,b){a===b?A(a,q()):g(b)?w(a,b):z(a,b)}function y(a){a._onerror&&a._onerror(a._result),C(a)}function z(a,b){a._state===U&&(a._result=b,a._state=V,0===a._subscribers.length||P(C,a))}function A(a,b){a._state===U&&(a._state=W,a._result=b,P(y,a))}function B(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+V]=c,e[f+W]=d,0===f&&a._state&&P(C,a)}function C(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?F(c,d,e,f):e(f);a._subscribers.length=0}}function D(){this.error=null}function E(a,b){try{return a(b)}catch(c){return Y.error=c,Y}}function F(a,b,c,d){var e,f,g,i,j=h(c);if(j){if(e=E(c,d),e===Y?(i=!0,f=e.error,e=null):g=!0,b===e)return void A(b,r())}else e=d,g=!0;b._state!==U||(j&&g?x(b,e):i?A(b,f):a===V?z(b,e):a===W&&A(b,e))}function G(a,b){try{b(function(b){x(a,b)},function(b){A(a,b)})}catch(c){A(a,c)}}function H(a,b,c,d){this._instanceConstructor=a,this.promise=new a(p,d),this._abortOnReject=c,this._validateInput(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._init(),0===this.length?z(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&z(this.promise,this._result))):A(this.promise,this._validationError())}function I(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function J(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function K(a){this._id=cb++,this._state=void 0,this._result=void 0,this._subscribers=[],p!==a&&(h(a)||I(),this instanceof K||J(),G(this,a))}var L;L=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var M,N=L,O=(Date.now||function(){return(new Date).getTime()},Object.create||function(a){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof a)throw new TypeError("Argument must be an object");return j.prototype=a,new j},0),P=function(a,b){T[O]=a,T[O+1]=b,O+=2,2===O&&M()},Q="undefined"!=typeof window?window:{},R=Q.MutationObserver||Q.WebKitMutationObserver,S="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,T=new Array(1e3);M="undefined"!=typeof a&&"[object process]"==={}.toString.call(a)?k():R?l():S?m():n();var U=void 0,V=1,W=2,X=new D,Y=new D;H.prototype._validateInput=function(a){return N(a)},H.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},H.prototype._init=function(){this._result=new Array(this.length)};var Z=H;H.prototype._enumerate=function(){for(var a=this.length,b=this.promise,c=this._input,d=0;b._state===U&&a>d;d++)this._eachEntry(c[d],d)},H.prototype._eachEntry=function(a,b){var c=this._instanceConstructor;i(a)?a.constructor===c&&a._state!==U?(a._onerror=null,this._settledAt(a._state,b,a._result)):this._willSettleAt(c.resolve(a),b):(this._remaining--,this._result[b]=this._makeResult(V,b,a))},H.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===U&&(this._remaining--,this._abortOnReject&&a===W?A(d,c):this._result[b]=this._makeResult(a,b,c)),0===this._remaining&&z(d,this._result)},H.prototype._makeResult=function(a,b,c){return c},H.prototype._willSettleAt=function(a,b){var c=this;B(a,void 0,function(a){c._settledAt(V,b,a)},function(a){c._settledAt(W,b,a)})};var $=function(a,b){return new Z(this,a,!0,b).promise},_=function(a,b){function c(a){x(f,a)}function d(a){A(f,a)}var e=this,f=new e(p,b);if(!N(a))return A(f,new TypeError("You must pass an array to race.")),f;for(var g=a.length,h=0;f._state===U&&g>h;h++)B(e.resolve(a[h]),void 0,c,d);return f},ab=function(a,b){var c=this;if(a&&"object"==typeof a&&a.constructor===c)return a;var d=new c(p,b);return x(d,a),d},bb=function(a,b){var c=this,d=new c(p,b);return A(d,a),d},cb=0,db=K;K.all=$,K.race=_,K.resolve=ab,K.reject=bb,K.prototype={constructor:K,then:function(a,b){var c=this,d=c._state;if(d===V&&!a||d===W&&!b)return this;var e=new this.constructor(p),f=c._result;if(d){var g=arguments[d-1];P(function(){F(d,e,g,f)})}else B(c,e,a,b);return e},"catch":function(a){return this.then(null,a)}};var eb=function(){var a;a="undefined"!=typeof e?e:"undefined"!=typeof window&&window.document?window:self;var b="Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=a}),h(b)}();b||(a.Promise=db)},fb={Promise:db,polyfill:eb};c(48).amd?(d=function(){return fb}.call(b,c,b,f),!(void 0!==d&&(f.exports=d))):"undefined"!=typeof f&&f.exports?f.exports=fb:"undefined"!=typeof this&&(this.ES6Promise=fb)}).call(this)}).call(b,c(50),function(){return this}(),c(49)(a))},function(a){function b(a,b,c){if(c=c||0,null==a)return-1;for(var d=a.length,e=0>c?d+c:c;d>e;){if(a[e]===b)return e;e++}return-1}a.exports=b},function(a){function b(a){return!!a&&"object"==typeof a&&a.constructor===Object}a.exports=b},function(a){function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}a.exports=b},function(a,b,c){function d(){h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],g=!0;for(var a in{toString:null})g=!1}function e(a,b,c){var e,j=0;null==g&&d();for(e in a)if(f(b,a,e,c)===!1)break;if(g)for(var k=a.constructor,l=!!k&&a===k.prototype;(e=h[j++])&&("constructor"===e&&(l||!i(a,e))||a[e]===Object.prototype[e]||f(b,a,e,c)!==!1););}function f(a,b,c,d){return a.call(d,b[c],c,b)}var g,h,i=c(42);a.exports=e},function(a){function b(a){switch(typeof a){case"string":case"number":case"boolean":return!0}return null==a}a.exports=b},function(a,b,c){function d(a,b){return b?(e(b.split("."),function(b){a[b]||(a[b]={}),a=a[b]}),a):a}var e=c(9);a.exports=d},function(a){function b(a){return null==a?"":a.toString()}a.exports=b},function(a,b,c){function d(a){return a=e(a),a=f(a),a=g(a).replace(/[\-_]/g," ").replace(/\s[a-z]/g,h).replace(/\s+/g,"").replace(/^[A-Z]/g,i)}var e=c(46),f=c(51),g=c(52),h=c(20),i=c(53);a.exports=d},function(a){a.exports=function(){throw new Error("define cannot be used indirect")}},function(a){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a){function b(){}var c=a.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.MutationObserver,c="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};var d=[];if(b){var e=document.createElement("div"),f=new MutationObserver(function(){var a=d.slice();d.length=0,a.forEach(function(a){a()})});return f.observe(e,{attributes:!0}),function(a){d.length||e.setAttribute("yes","no"),d.push(a)}}return c?(window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),d.length>0)){var c=d.shift();c()}},!0),function(a){d.push(a),window.postMessage("process-tick","*")}):function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.on=b,c.addListener=b,c.once=b,c.off=b,c.removeListener=b,c.removeAllListeners=b,c.emit=b,c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},function(a,b,c){function d(a){return a=e(a),a.search(/[\xC0-\xFF]/g)>-1&&(a=a.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),a}var e=c(46);a.exports=d},function(a,b,c){function d(a){return a=e(a),a.replace(f,"")}var e=c(46),f=/[^\x20\x2D0-9A-Z\x5Fa-z\xC0-\xD6\xD8-\xF6\xF8-\xFF]/g;a.exports=d},function(a,b,c){function d(a){return a=e(a),a.toLowerCase()}var e=c(46);a.exports=d}])});
//# sourceMappingURL=js-data.min.map